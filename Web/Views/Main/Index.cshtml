<canvas>The Stage!</canvas>
<button>A Button</button>    
   

<button id="sendEvent">Send!</button>

<ul id="postsList"></ul>

<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.0.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/signalr/jquery.signalr-2.2.0.min.js"></script>
<script src="/signalr/hubs"></script>
<script type="text/javascript">
      
        function addPostsList(posts) {
            $.each(posts, function (index) {
                var post = posts[index];
                addPost(post);
            });
        }

        function pushedContent(content) {
            console.log("Incoming data: ", content);
        }

        var hub = $.connection.game;

        hub.client.publishPost = pushedContent;

        $("#sendEvent").click(function () {
            console.log("Pushing with hub: ", hub);
            hub.server.push("Testing");
        });

        $.connection.hub.logging = true;
        $.connection.hub.start();

        console.log("Finished setting up: ", $.connection.game);
</script>
@*<script type="text/javascript">
        $.ajax({
            url: '/Api/Posts/',
            method: 'GET',
            dataType: 'JSON',
            success: addPostsList
        });

        function addPostsList(posts) {
            $.each(posts, function (index) {
                var post = posts[index];
                addPost(post);
            });
        }

        function addPost(post) {
            $("#postsList").append(
                    '<li><b>' + post.userName + '</b><br>' + post.text + '</li><br>'
                 );
        }

        var hub = $.connection.postsHub;

        hub.client.publishPost = addPost;

        $("#publishPostButton").click(function () {

            var post = {
                userName: $("#userNameInput").val() || "Guest",
                text: $("#textInput").val()
            };
            $.ajax({
                url: '/Api/Posts/AddPost',
                method: 'POST',
                data: post
            });
        });

        $.connection.hub.logging = true;
        $.connection.hub.start();
</script>*@

<div>Controls</div><!-- Todo -->
